define(["apps/master/masterApp"],function(n){"use strict";return function(t){var e,i,a,o,s,r,u,c,d,l={},f=[];return i=function(){e=t.$el,u(),o()},a=function(){e=null,f=null,t.stopListening(t,"show"),t.stopListening(t,"destroy"),t.stopListening(n.vent,"window:breakpoint:changed")},o=function(){var n=s();_.each(f,function(t){c(t.$el,r(t,n))})},s=function(){return n.windowManager.getBreakPoint()},r=function(n,t){return t=t||"xs",n[t]||n.xs},u=function(){d().each(function(){var n=$(this);f.push({$el:n,xs:n.data("small"),s:n.data("small"),m:n.data("medium"),l:n.data("large"),xl:n.data("large")})})},d=function(){return e.find(".responsive-background, .responsive-backgroundv2").addBack()},c=function(n,t){_.isUndefined(t)||n.css({"background-image":"url("+t+")"})},t.listenTo(t,"show",i),t.listenTo(t,"destroy",a),t.listenTo(n.vent,"window:breakpoint:changed",o),l.onBreakPointChange=o,l}});